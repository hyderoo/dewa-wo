import{j as e}from"./app-Bj-2ttWe.js";import{P as j}from"./plus-C9N-fGdW.js";import{T as g}from"./trash-BLUPGPli.js";import{C as v}from"./chevron-left-Dic_PlZf.js";import{C as N}from"./chevron-right-CIgsXY0k.js";import"./createLucideIcon-Q6M-lg5u.js";const R=({fileInputRef:c,selectedImages:m,imagesToDelete:t,currentImageIndex:l,setCurrentImageIndex:u,editingPortfolio:s,errors:n,handleInputChange:p,removeSelectedImage:b,toggleImageDeletion:i,navigateImage:d})=>{var h,x,o;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center",children:[e.jsx("span",{children:"Images"}),e.jsx("span",{className:"ml-2 text-red-500 text-xs font-normal",children:s?"":"*Required"})]}),e.jsx("input",{type:"file",name:"images",id:"images-upload",ref:c,accept:"image/jpeg,image/png,image/gif,image/jpg",onChange:p,className:"hidden",multiple:!0}),e.jsxs("button",{type:"button",onClick:()=>c.current.click(),className:"px-3 py-1 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-pink-500 inline-flex items-center text-sm",children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),"Add Images"]})]}),m.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"New Images"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:m.map((a,r)=>e.jsxs("div",{className:"relative h-24 rounded-md border border-gray-200 overflow-hidden group",children:[e.jsx("img",{src:URL.createObjectURL(a),alt:`Selected ${r}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsx("div",{className:"flex space-x-1",children:e.jsx("button",{type:"button",onClick:()=>b(r),className:"p-1 rounded-full bg-white/70 text-red-600 hover:bg-white",title:"Remove image",children:e.jsx(g,{className:"w-3 h-3"})})})})]},`new-${r}`))})]}),s&&s.images&&s.images.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Current Images"}),e.jsx("div",{className:"flex space-x-2 items-center",children:s.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>d("prev"),className:"p-1 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300",children:e.jsx(v,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[l+1,"/",s.images.length]}),e.jsx("button",{type:"button",onClick:()=>d("next"),className:"p-1 rounded-full bg-gray-200 text-gray-600 hover:bg-gray-300",children:e.jsx(N,{className:"w-4 h-4"})})]})})]}),e.jsx("div",{className:"relative h-56 bg-gray-100 rounded-lg overflow-hidden",children:s.images.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:(h=s.images[l])==null?void 0:h.path,alt:`Portfolio image ${l+1}`,className:"w-full h-full object-contain"}),e.jsx("div",{className:"absolute top-2 right-2 flex space-x-2",children:!t.includes((x=s.images[l])==null?void 0:x.id)&&e.jsx("button",{type:"button",disabled:s.images.length<=1,onClick:()=>{var a;return i((a=s.images[l])==null?void 0:a.id)},className:`p-1.5 rounded-full bg-red-100 text-red-600 hover:bg-red-200 ${s.images.length<=1?"opacity-50 cursor-not-allowed":""}`,title:s.images.length<=1?"Cannot delete the only image":"Mark for deletion",children:e.jsx(g,{className:"w-4 h-4"})})}),t.includes((o=s.images[l])==null?void 0:o.id)&&e.jsxs("div",{className:"absolute inset-0 bg-red-100/80 flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-red-700 font-medium mb-2",children:"Marked for deletion"}),e.jsx("button",{type:"button",onClick:()=>{var a;return i((a=s.images[l])==null?void 0:a.id)},className:"px-3 py-1 bg-white text-red-600 rounded-md border border-red-300 text-sm hover:bg-red-50",children:"Cancel"})]})]})}),s.images.length>1&&e.jsx("div",{className:"flex mt-2 overflow-x-auto pb-2 gap-2",children:s.images.map((a,r)=>e.jsx("div",{onClick:()=>u(r),className:`relative flex-shrink-0 w-16 h-16 rounded-md overflow-hidden cursor-pointer border-2 ${l===r?"border-pink-500":"border-transparent"} ${t.includes(a.id)?"opacity-40":""}`,children:e.jsx("img",{src:a.path,alt:`Thumbnail ${r+1}`,className:"w-full h-full object-cover"})},a.id))})]}),n.images&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:n.images})]})};export{R as default};
