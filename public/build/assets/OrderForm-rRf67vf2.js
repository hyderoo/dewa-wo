import{q as Le,r as o,S as Ue,j as e,a as $e,b as oe}from"./app-Bs2T8Cel.js";import{T as Ae}from"./Toast-D4UZEFGK.js";import{A as Be}from"./AdminLayout-fV7w1xsl.js";import Ee from"./DatePickerDialog-QgtRTHbJ.js";import{A as Re}from"./arrow-left-BjysdjvJ.js";import{U as K}from"./user-BCy3iRN8.js";import{X as B}from"./x-C6So-ddW.js";import{C as Ie}from"./check-e2f6sFrm.js";import{C as Me}from"./calendar-fqGNGd38.js";import{L as Ve}from"./loader-CpXI7Ybk.js";import{M as Oe}from"./map-pin-cPrklkFS.js";import{U as qe}from"./users-BnbK67uW.js";import{P as ze}from"./package-CB-PJFlt.js";import{c as ce}from"./createLucideIcon-CvzI4D8G.js";import{C as He}from"./circle-plus-CqqcBxIe.js";import{S as Ke}from"./save-CKqFpiyj.js";import"./circle-alert-Cj8kEujd.js";import"./eye-off-DnHwywYB.js";import"./eye-CjirJiX5.js";import"./log-out-COQjk9kz.js";import"./chevron-down-DXA6EQOq.js";import"./chevron-right-CQJsjOc3.js";import"./key-round-CJY62-0e.js";import"./image-DW5R3q18.js";import"./star-CUSJV_Pf.js";import"./file-text-CUkhy-jw.js";import"./building-BTeyIkLo.js";import"./credit-card-C7X7qjcX.js";import"./chevron-left-CNB4_brN.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]],Ge=ce("toggle-left",Je);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]],Xe=ce("toggle-right",We),Dt=()=>{const{catalogs:L,customFeatures:E,users:x,order:i,includedServices:J,selectedCustomFeatures:R,toast:U}=Le().props,g=!!i,[de,N]=o.useState(!1),[G,S]=o.useState({type:"",message:""}),[Qe,I]=o.useState(null),[M,W]=o.useState(""),[X,y]=o.useState(""),[_,V]=o.useState([]),[h,j]=o.useState(0),[k,Q]=o.useState(!1),[u,O]=o.useState("percentage"),[q,v]=o.useState(""),[Y,f]=o.useState(""),[w,$]=o.useState(""),[D,z]=o.useState([]),[me,P]=o.useState(!1),[ue,Z]=o.useState(!1),[pe,xe]=o.useState([]),[Ye,ee]=o.useState(!1),[te,se]=o.useState(!1),[C,A]=o.useState(""),{data:s,setData:r,post:ae,processing:H,errors:c}=Ue({user_id:"",catalog_id:"",client_name:"",event_date:"",venue:"",estimated_guests:0,price:0,original_price:0,discount_percent:null,discount_amount:null,discount_reason:"",down_payment_amount:null,included_services:[],custom_features:[],_method:g?"PUT":""});o.useEffect(()=>{(async()=>{ee(!0);try{const a=await oe.get(route("api.booked-dates"));xe(a.data.bookedDates)}catch(a){console.error("Error fetching booked dates:",a),S({type:"error",message:"Gagal memuat data ketersediaan tanggal. Silakan coba lagi nanti."}),N(!0)}finally{ee(!1)}})()},[]),o.useEffect(()=>{if(g&&(r({user_id:i.user_id||"",catalog_id:i.catalog_id||"",client_name:i.client_name,event_date:i.event_date,venue:i.venue,estimated_guests:i.estimated_guests,price:i.price,original_price:i.original_price||i.price,discount_percent:i.discount_percent,discount_amount:i.discount_amount,discount_reason:i.discount_reason||"",down_payment_amount:i.down_payment_amount,included_services:J||[],custom_features:R||[],_method:"PUT"}),y(d(i.price.toString())),V(R||[]),f(d((i.original_price||i.price).toString())),i.discount_amount>0?(Q(!0),i.discount_percent>0?(O("percentage"),v(i.discount_percent.toString())):(O("fixed"),v(d(i.discount_amount.toString()))),j(i.original_price||i.price)):j(i.price),i.catalog_id)){const t=L.find(a=>a.id===i.catalog_id);I(t)}},[i,g,J,R]),o.useEffect(()=>{if(U){S({type:U.type,message:U.message}),N(!0);const t=setTimeout(()=>{N(!1)},5e3);return()=>clearTimeout(t)}},[U]),o.useEffect(()=>{if(x&&x.length>0){if(w){const t=x.filter(a=>a.name.toLowerCase().includes(w.toLowerCase())||a.email.toLowerCase().includes(w.toLowerCase()));z(t)}else z(x);console.log("Users data available:",x.length),console.log("Filtered users:",D?D.length:0)}else console.log("No users data available"),z([])},[w,x]);const ge=t=>t?new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"",d=t=>{if(!t)return"";const a=t.toString().replace(/\D/g,"");return a===""?"":new Intl.NumberFormat("id-ID").format(a)},F=t=>t&&parseInt(t.replace(/\D/g,""),10)||0,he=t=>{const a=t.target.value,n=d(a);y(n);const l=F(n);r("price",l),k||(r("original_price",l),f(n),j(l))},fe=t=>{const a=t.target.value,n=d(a);f(n);const l=F(n);r("original_price",l),j(l),b(l,u,F(q))},re=t=>{const a=t.target.value;if(u==="percentage"){v(a);const n=parseFloat(a)||0;n>100?(v("100"),b(h,u,100)):b(h,u,n)}else{const n=d(a);v(n);const l=F(n);l>h?(v(d(h.toString())),b(h,u,h)):b(h,u,l)}},ne=t=>{O(t),v(""),r("discount_percent",null),r("discount_amount",null)},b=(t,a,n)=>{if(!t||!n){y(d(t.toString())),r("price",t),r("discount_percent",null),r("discount_amount",null);return}let l=0,m=null;a==="percentage"?(m=n,l=t*(n/100)):(l=n,m=n/t*100);const p=t-l;y(d(p.toString())),r("price",p),r("discount_percent",m),r("discount_amount",l)},be=()=>{Q(!k),k?(v(""),r("discount_percent",null),r("discount_amount",null),r("discount_reason",""),y(Y),r("price",s.original_price)):(f(X),j(s.price),r("original_price",s.price))},ye=t=>{const a=d(t.target.value),n=F(a);n>s.price?r("down_payment_amount",s.price):r("down_payment_amount",n)},je=t=>{const a=t.target.value;if(r("catalog_id",a),a){const n=L.find(l=>l.id===parseInt(a));if(I(n),n&&n.features&&r("included_services",n.features),n&&n.price){const l=n.price[0]||0;y(d(l.toString())),f(d(l.toString())),r("price",l),r("original_price",l),j(l)}}else I(null),r("included_services",[])},ve=()=>{M.trim()&&(r("included_services",[...s.included_services,M.trim()]),W(""))},Ne=t=>{const a=[...s.included_services];a.splice(t,1),r("included_services",a)},_e=t=>{if(!_.some(n=>n.id===t.id)){const n={id:t.id,name:t.name,price:t.price},l=[..._,n];V(l),r("custom_features",l);const m=Number(t.price),p=Number(h)+m;j(p),k?(f(d(p.toString())),r("original_price",p),u==="percentage"&&s.discount_percent?b(p,"percentage",s.discount_percent):s.discount_amount&&b(p,"fixed",s.discount_amount)):(y(d(p.toString())),r("price",p),f(d(p.toString())),r("original_price",p))}},ke=t=>{const a=_[t],n=[..._];if(n.splice(t,1),V(n),r("custom_features",n),a){const l=Number(a.price),m=Number(h)-l;j(m),k?(f(d(m.toString())),r("original_price",m),u==="percentage"&&s.discount_percent?b(m,"percentage",s.discount_percent):s.discount_amount&&b(m,"fixed",s.discount_amount)):(y(d(m.toString())),r("price",m),f(d(m.toString())),r("original_price",m))}},we=t=>{r("user_id",t.id),$(t.name),P(!1)},Ce=t=>{A(""),se(!0),oe.get(route("api.check-date-availability",{date:t})).then(a=>{a.data.available||g&&i.event_date===t?r("event_date",t):A("Maaf, tanggal ini sudah dipesan. Silakan pilih tanggal lain.")}).catch(a=>{console.error("Error checking date availability:",a),A("Terjadi kesalahan saat memeriksa ketersediaan. Silakan coba lagi.")}).finally(()=>{se(!1)})},Se=t=>{t.preventDefault(),Z(!0)},De=t=>{if(t.preventDefault(),!s.user_id){S({type:"error",message:"Silakan pilih pengguna untuk pesanan ini."}),N(!0);return}if(!s.event_date){A("Tanggal pernikahan harus diisi."),S({type:"error",message:"Tanggal pernikahan harus diisi."}),N(!0);return}if(C){S({type:"error",message:C}),N(!0);return}const a={...s,custom_features:s.custom_features.map(n=>({id:n.id,name:n.name,price:n.price}))};ae(g?route("admin.orders.update",i.id):route("admin.orders.store"),a)},ie=()=>{window.history.back()},T=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Pe=o.useMemo(()=>{let t=s.price;return T(t)},[s.price]),Fe=o.useMemo(()=>T(s.original_price),[s.original_price]),Te=o.useMemo(()=>s.discount_amount?T(s.discount_amount):"Rp 0",[s.discount_amount]),le=o.useMemo(()=>{if(!s.user_id||!x)return"";const t=x.find(a=>a.id===s.user_id);return t?`${t.name} (${t.email})`:""},[s.user_id,x]);return e.jsxs(Be,{activeMenu:"order-management",children:[e.jsx($e,{title:g?"Edit Order":"Create Order"}),de&&e.jsx(Ae,{type:G.type,message:G.message,onClose:()=>N(!1)}),e.jsxs("div",{className:"py-8 px-4 md:px-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:g?"Edit Pesanan":"Buat Pesanan Baru"}),e.jsx("p",{className:"text-gray-600 mt-1",children:g?"Perbarui informasi pesanan yang ada":"Tambahkan pesanan baru ke sistem"})]}),e.jsxs("button",{onClick:ie,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",children:[e.jsx(Re,{size:16}),"Kembali"]})]}),e.jsx("div",{className:"bg-white shadow-md rounded-lg p-6",children:e.jsxs("form",{onSubmit:De,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-semibold border-b pb-2",children:"Informasi Klien"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pengguna ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:w,onChange:t=>{$(t.target.value),P(!0)},onFocus:()=>P(!0),className:`w-full pl-10 pr-10 py-2 border ${c.user_id?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500`,placeholder:"Cari pengguna berdasarkan nama atau email"}),w&&e.jsx("button",{type:"button",onClick:()=>{$(""),P(!1)},className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:e.jsx(B,{className:"h-4 w-4"})}),le&&e.jsxs("div",{className:"mt-1 text-sm text-pink-600 font-medium",children:["User terpilih: ",e.jsx("span",{className:"font-medium",children:le})]})]}),me&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-200 sticky top-0 bg-white z-20",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pilih User"}),e.jsx("button",{type:"button",onClick:()=>P(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx(B,{className:"h-4 w-4 text-gray-500"})})]}),D&&D.length>0?e.jsx("ul",{className:"py-1",children:D.map(t=>e.jsxs("li",{className:`px-4 py-3 cursor-pointer flex items-center transition-colors ${s.user_id===t.id?"bg-pink-50 border-l-4 border-pink-500":"hover:bg-gray-50 border-l-4 border-transparent"}`,onClick:()=>we(t),children:[e.jsx(K,{className:`w-5 h-5 mr-3 ${s.user_id===t.id?"text-pink-500":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium ${s.user_id===t.id?"text-pink-700":"text-gray-800"}`,children:t.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.email})]}),s.user_id===t.id&&e.jsx(Ie,{className:"w-5 h-5 text-pink-500"})]},t.id))}):e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-gray-100 mb-3",children:e.jsx(K,{className:"h-6 w-6 text-gray-400"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tidak ada pengguna ditemukan"}),w&&e.jsx("button",{type:"button",onClick:()=>$(""),className:"mt-2 text-xs text-pink-600 hover:text-pink-700 font-medium",children:"Reset pencarian"})]})]})]}),c.user_id&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:c.user_id})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Klien ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.client_name,onChange:t=>r("client_name",t.target.value),className:`w-full px-3 py-2 border ${c.client_name?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500`,placeholder:"Contoh: Budi & Sarah",required:!0}),c.client_name&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:c.client_name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tanggal Acara ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("button",{type:"button",onClick:Se,className:`
                                            w-full px-3 py-2 border rounded-md text-sm
                                            focus:outline-none focus:ring-2 text-left
                                            flex items-center justify-between relative
                                            ${C||c.event_date?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-pink-500"}
                                            ${s.event_date?"text-gray-900":"text-gray-500"}
                                        `,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{children:s.event_date?ge(s.event_date):"Pilih tanggal pernikahan"})]}),e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}),te&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(Ve,{className:"h-4 w-4 text-gray-400 animate-spin"})})]}),e.jsx("input",{type:"hidden",name:"event_date",value:s.event_date||"",required:!0}),C&&e.jsxs("div",{className:"mt-1 flex items-center text-red-500 text-xs",children:[e.jsx(AlertCircle,{className:"h-3 w-3 mr-1 flex-shrink-0"}),e.jsx("span",{children:C})]}),c.event_date&&!C&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.event_date})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Lokasi Acara ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:s.venue,onChange:t=>r("venue",t.target.value),className:`w-full pl-10 px-3 py-2 border ${c.venue?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500`,placeholder:"Contoh: Hotel Grand Ballroom",required:!0})]}),c.venue&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:c.venue})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Estimasi Jumlah Tamu ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",value:s.estimated_guests,onChange:t=>r("estimated_guests",parseInt(t.target.value)||0),className:`w-full pl-10 px-3 py-2 border ${c.estimated_guests?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500`,min:"1",required:!0})]}),c.estimated_guests&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:c.estimated_guests})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-semibold border-b pb-2",children:"Detail Pesanan"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paket / Katalog"}),e.jsxs("div",{className:"relative",children:[e.jsx(ze,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:s.catalog_id,onChange:je,className:`w-full pl-10 px-3 py-2 border ${c.catalog_id?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500`,children:[e.jsx("option",{value:"",children:"-- Pilih Paket --"}),L&&L.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.formatted_price,")"]},t.id))]})]}),c.catalog_id&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:c.catalog_id})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Harga & Diskon"}),e.jsx("button",{type:"button",onClick:be,className:"flex items-center text-sm font-medium text-gray-600 hover:text-pink-600",children:k?e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"h-5 w-5 text-pink-600"}),e.jsx("span",{className:"ml-1",children:"Diskon Aktif"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"h-5 w-5"}),e.jsx("span",{className:"ml-1",children:"Terapkan Diskon"})]})})]}),k?e.jsxs("div",{className:"bg-pink-50 rounded-lg p-4 border border-pink-100",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Harga Asli ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"Rp"}),e.jsx("input",{type:"text",value:Y,onChange:fe,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"50.000.000",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jenis Diskon"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>ne("percentage"),className:`flex-1 py-2 px-4 rounded-lg border ${u==="percentage"?"bg-pink-600 text-white border-pink-600":"bg-white text-gray-700 border-gray-300"}`,children:"Persentase"}),e.jsx("button",{type:"button",onClick:()=>ne("fixed"),className:`flex-1 py-2 px-4 rounded-lg border ${u==="fixed"?"bg-pink-600 text-white border-pink-600":"bg-white text-gray-700 border-gray-300"}`,children:"Nominal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u==="percentage"?"Persentase Diskon (%)":"Jumlah Diskon"}),e.jsx("div",{className:"relative",children:u==="percentage"?e.jsx("input",{type:"number",value:q,onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"10",min:"0",max:"100"}):e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"Rp"}),e.jsx("input",{type:"text",value:q,onChange:re,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"5.000.000"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alasan Diskon"}),e.jsx("input",{type:"text",value:s.discount_reason,onChange:t=>r("discount_reason",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Contoh: Promo akhir tahun"})]})]}),e.jsx("div",{className:"mt-4 bg-white p-3 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Harga Asli"}),e.jsx("p",{className:"font-medium",children:Fe})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Diskon"}),e.jsxs("p",{className:"font-medium text-green-600",children:[Te,s.discount_percent&&e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",s.discount_percent,"%)"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Harga Akhir"}),e.jsx("p",{className:"font-medium text-pink-600",children:Pe})]})]})})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Harga ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"Rp"}),e.jsx("input",{type:"text",value:X,onChange:he,className:`w-full pl-10 pr-3 py-2 border ${c.price?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500`,placeholder:"50.000.000",required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format angka tanpa simbol Rp. Contoh: 50.000.000"}),c.price&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:c.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jumlah Uang Muka (Down Payment)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"Rp"}),e.jsx("input",{type:"text",value:s.down_payment_amount?d(s.down_payment_amount.toString()):"",onChange:ye,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"15.000.000"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kosongkan untuk menggunakan default 30% dari total harga"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Layanan Termasuk"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:M,onChange:t=>W(t.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Tambah layanan baru"}),e.jsx("button",{type:"button",onClick:ve,className:"px-3 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors",children:e.jsx(He,{size:16})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 min-h-[100px] max-h-[200px] overflow-y-auto",children:s.included_services&&s.included_services.length>0?e.jsx("ul",{className:"space-y-2",children:s.included_services.map((t,a)=>e.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded",children:[e.jsx("span",{className:"text-gray-700",children:t}),e.jsx("button",{type:"button",onClick:()=>Ne(a),className:"text-red-500 hover:text-red-700",children:e.jsx(B,{size:16})})]},a))}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Belum ada layanan ditambahkan"})})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Fitur Custom / Tambahan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Fitur Tersedia"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 min-h-[200px] max-h-[300px] overflow-y-auto",children:E&&E.length>0?e.jsx("ul",{className:"space-y-2",children:E.map(t=>e.jsx("li",{className:"bg-white p-3 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>_e(t),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]}),e.jsx("span",{className:"font-semibold text-pink-600",children:T(t.price)})]})},t.id))}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Tidak ada fitur custom tersedia"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Fitur yang Dipilih"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 min-h-[200px] max-h-[300px] overflow-y-auto",children:_&&_.length>0?e.jsx("ul",{className:"space-y-2",children:_.map((t,a)=>e.jsx("li",{className:"bg-white p-3 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-medium text-gray-900",children:t.name})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-semibold text-pink-600",children:T(t.price)}),e.jsx("button",{type:"button",onClick:()=>ke(a),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(B,{size:16})})]})]})},a))}):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Belum ada fitur custom yang dipilih"})})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:ie,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Batal"}),e.jsxs("button",{type:"submit",disabled:H,className:`px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors flex items-center gap-2 ${H?"opacity-70 cursor-not-allowed":""}`,children:[e.jsx(Ke,{size:16}),H?"Menyimpan...":g?"Perbarui Pesanan":"Buat Pesanan"]})]})]})})]}),e.jsx(Ee,{isOpen:ue,onClose:()=>Z(!1),onDateSelect:Ce,bookedDates:pe,initialDate:s.event_date,isCheckingDate:te})]})};export{Dt as default};
