import{r as g,j as e,J as p}from"./app-Bs2T8Cel.js";import{S as F}from"./search-DK9GOSMe.js";import{F as M}from"./funnel-Bqh0eixS.js";import{X as $}from"./x-C6So-ddW.js";import{C as B}from"./calendar-fqGNGd38.js";import{M as R}from"./map-pin-cPrklkFS.js";import{C as O}from"./chevron-up-CxTtr77t.js";import{C as T}from"./chevron-down-DXA6EQOq.js";import{S as j}from"./star-CUSJV_Pf.js";import{E}from"./eye-CjirJiX5.js";import{S as I}from"./square-pen-ByTQx2zk.js";import{C as z}from"./circle-check-big-CyiEMgwB.js";import{C as W}from"./circle-x-BVBFCtNM.js";import{C as H}from"./chevron-left-CNB4_brN.js";import{C as U}from"./chevron-right-CQJsjOc3.js";import"./createLucideIcon-CvzI4D8G.js";const ie=({orders:o,pagination:t,onPageChange:c,filters:r,onFilterChange:i,onCancelOrder:N,onCompleteOrder:w,onAddReview:k,onViewDetails:_})=>{const[d,y]=g.useState(null),[n,u]=g.useState({status:(r==null?void 0:r.status)||"all",date:(r==null?void 0:r.date)||"all",search:(r==null?void 0:r.search)||""}),[h,m]=g.useState(!1),C=s=>{u({...n,search:s.target.value})},b=(s,l)=>{const a={...n,[s]:l};u(a),i&&i(a)},S=()=>{i&&i(n),m(!1)},D=()=>{const s={status:"all",date:"all",search:""};u(s),i&&i(s),m(!1)},P=s=>{y(d===s?null:s)},L=s=>{switch(s){case"completed":return"bg-green-100 text-green-800";case"ongoing":return"bg-blue-100 text-blue-800";case"pending_payment":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=s=>{switch(s){case"completed":return"Selesai";case"ongoing":return"Berlangsung";case"pending_payment":return"Menunggu Pembayaran";case"cancelled":return"Dibatalkan";default:return s}},f=({rating:s,size:l="small"})=>{const a=l==="small"?"w-3 h-3":"w-5 h-5";return e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(x=>e.jsx(j,{className:`${a} ${x<=s?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},x))})},v=Object.keys(n).reduce((s,l)=>l==="search"?n[l]?s+1:s:n[l]!=="all"?s+1:s,0);return e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"w-full md:w-auto relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Cari pesanan...",value:n.search,onChange:C,className:"w-full md:w-60 lg:w-80 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>m(!h),className:`px-4 py-2 flex items-center space-x-1 rounded-lg border ${h?"bg-pink-50 border-pink-300 text-pink-700":"border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Filter"}),v>0&&e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-pink-500 rounded-full",children:v})]}),e.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg bg-pink-600 text-white hover:bg-pink-700",children:"Terapkan"})]})]}),h&&e.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Filter Lanjutan"}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx($,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:n.status,onChange:s=>b("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[e.jsx("option",{value:"all",children:"Semua Status"}),e.jsx("option",{value:"pending_payment",children:"Menunggu Pembayaran"}),e.jsx("option",{value:"ongoing",children:"Berlangsung"}),e.jsx("option",{value:"completed",children:"Selesai"}),e.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waktu Acara"}),e.jsxs("select",{value:n.date,onChange:s=>b("date",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[e.jsx("option",{value:"all",children:"Semua Waktu"}),e.jsx("option",{value:"past",children:"Masa Lalu"}),e.jsx("option",{value:"today",children:"Hari Ini"}),e.jsx("option",{value:"this_week",children:"Minggu Ini"}),e.jsx("option",{value:"this_month",children:"Bulan Ini"}),e.jsx("option",{value:"next_month",children:"Bulan Depan"}),e.jsx("option",{value:"future",children:"Masa Depan"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:D,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Reset Filter"})})]})]})]}),o&&o.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:o.map(s=>e.jsxs("div",{className:"divide-y divide-gray-100",children:[e.jsx("div",{className:`p-4 ${d===s.id?"bg-gray-50":"hover:bg-gray-50"} cursor-pointer`,onClick:()=>P(s.id),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.clientName}),e.jsx("p",{className:"text-sm text-gray-500",children:s.packageName}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.order_number})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${L(s.status)}`,children:A(s.status)})})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tanggal Acara"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(B,{className:"h-4 w-4 mr-1 text-gray-400"}),new Date(s.date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Lokasi"}),e.jsxs("p",{className:"font-medium flex items-center",children:[e.jsx(R,{className:"h-4 w-4 mr-1 text-gray-400"}),s.venue]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[e.jsxs("span",{children:["Pembayaran ",s.paymentPercentage,"%"]}),e.jsxs("span",{children:[s.paidAmount," / ",s.price]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-pink-500 h-2 rounded-full",style:{width:`${s.paymentPercentage}%`}})})]}),s.hasDiscount&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-pink-100 text-pink-800",children:["Diskon ",s.formattedDiscountPercent]}),e.jsx("span",{className:"ml-2 text-xs text-gray-500 line-through",children:s.formattedOriginalPrice})]}),s.hasReviewed&&e.jsxs("div",{className:"mt-2 bg-yellow-50 p-1.5 rounded-md inline-flex items-center",children:[e.jsx(f,{rating:s.review.rating}),e.jsxs("span",{className:"ml-1 text-xs text-gray-600",children:["(",s.review.rating,"/5)"]})]})]}),e.jsx("div",{className:"ml-4",children:d===s.id?e.jsx(O,{className:"h-5 w-5 text-gray-400"}):e.jsx(T,{className:"h-5 w-5 text-gray-400"})})]})}),d===s.id&&e.jsxs("div",{className:"px-4 py-5 bg-gray-50 space-y-4",children:[s.hasReviewed&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(j,{className:"w-4 h-4 mr-2 text-yellow-500"}),"Ulasan Klien"]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(f,{rating:s.review.rating,size:"medium"}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",s.review.rating,"/5)"]})]}),e.jsxs("p",{className:"text-gray-700 text-sm italic",children:['"',s.review.comment,'"']}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Diulas pada: ",new Date(s.review.date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Detail Pesanan"}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Harga"}),e.jsx("p",{className:"font-semibold text-lg text-pink-600",children:s.price})]}),s.hasDiscount&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Diskon"}),e.jsx("p",{className:"font-medium text-green-600",children:s.formattedDiscountAmount}),e.jsx("p",{className:"text-xs text-gray-500",children:s.discountReason})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tamu"}),e.jsxs("p",{className:"font-medium",children:[s.details.estimatedGuests," orang"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status Pembayaran"}),e.jsx("p",{className:"font-medium",children:s.isFullyPaid?"Lunas":"Belum Lunas"})]})]}),s.details.includedServices&&s.details.includedServices.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Layanan Termasuk:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.details.includedServices.map((l,a)=>e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"mr-2 text-green-500",children:"✓"}),l]},a))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Aksi"}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 space-y-3",children:[e.jsxs("button",{onClick:()=>_(s.id),className:"w-full py-2 px-4 bg-pink-600 hover:bg-pink-700 text-white rounded-lg text-center transition-colors flex items-center justify-center",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Lihat Detail Lengkap"]}),e.jsxs(p,{href:route("admin.orders.edit",s.id),className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-center transition-colors flex items-center justify-center",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Edit Pesanan"]}),s.status==="ongoing"&&s.isFullyPaid&&e.jsxs("button",{onClick:()=>w(s),className:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-lg text-center transition-colors flex items-center justify-center",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Selesaikan Pesanan"]}),s.status==="completed"&&!s.hasReviewed&&e.jsxs("button",{onClick:()=>k(s),className:"w-full py-2 px-4 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-center transition-colors flex items-center justify-center",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Tambah Ulasan"]}),!s.isFullyPaid&&s.status!=="cancelled"&&e.jsxs(p,{href:route("admin.payments.detail",s.id),className:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-center transition-colors flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9.75m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75m8.25-3.75h1.5c.414 0 .75.336.75.75s-.336.75-.75.75h-1.5m-1.5-12A2.25 2.25 0 0 0 18 7.5v10.5A2.25 2.25 0 0 0 20.25 20h1.5A2.25 2.25 0 0 0 24 17.75V7.5A2.25 2.25 0 0 0 21.75 5.25h-1.5Z"})}),"Proses Pembayaran"]}),e.jsxs(p,{href:route("admin.payments.history",s.id),className:"w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-center transition-colors flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),"Riwayat Pembayaran"]}),(s.status==="pending_payment"||s.status==="ongoing")&&e.jsxs("button",{onClick:()=>N(s),className:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg text-center transition-colors flex items-center justify-center",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Batalkan Pesanan"]})]})]})]})]})]},s.id))}):e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Tidak ada pesanan ditemukan."})}),t&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(t.current_page-1),disabled:!t.prev_page_url,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${t.prev_page_url?"bg-white text-gray-700 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-default"}`,children:"Previous"}),e.jsx("button",{onClick:()=>c(t.current_page+1),disabled:!t.next_page_url,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${t.next_page_url?"bg-white text-gray-700 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-default"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:t.from})," to ",e.jsx("span",{className:"font-medium",children:t.to})," of ",e.jsx("span",{className:"font-medium",children:t.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(t.current_page-1),disabled:!t.prev_page_url,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${t.prev_page_url?"text-gray-500 hover:bg-gray-50":"text-gray-300 cursor-default"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(H,{className:"h-5 w-5"})]}),[...Array(t.last_page)].map((s,l)=>{const a=l+1,x=a===t.current_page;return a<=2||a>=t.last_page-1||a>=t.current_page-1&&a<=t.current_page+1?e.jsx("button",{onClick:()=>c(a),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x?"z-10 bg-pink-50 border-pink-500 text-pink-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:a},a):a===3&&t.current_page>4||a===t.last_page-2&&t.current_page<t.last_page-3?e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},a):null}),e.jsxs("button",{onClick:()=>c(t.current_page+1),disabled:!t.next_page_url,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${t.next_page_url?"text-gray-500 hover:bg-gray-50":"text-gray-300 cursor-default"}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(U,{className:"h-5 w-5"})]})]})})]})]})]})};export{ie as default};
