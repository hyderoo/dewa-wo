import{r as x,j as e}from"./app-Bj-2ttWe.js";import{X as Y}from"./x-P4FUM78l.js";import{C as $}from"./chevron-left-Dic_PlZf.js";import{C as P}from"./chevron-right-CIgsXY0k.js";import"./createLucideIcon-Q6M-lg5u.js";const A=({isOpen:i,onClose:o,onDateSelect:p,bookedDates:b=[],initialDate:l=null,isCheckingDate:g=!1})=>{const[a,d]=x.useState(l?new Date(l):new Date),[c,h]=x.useState(l);x.useEffect(()=>{i&&(d(l?new Date(l):new Date),h(l))},[i,l]);const j=()=>{d(new Date(a.getFullYear(),a.getMonth()-1,1))},N=()=>{d(new Date(a.getFullYear(),a.getMonth()+1,1))},v=s=>new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),y=s=>new Date(s.getFullYear(),s.getMonth(),1).getDay(),w=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=(s,n,r)=>{const t=`${s}-${String(n+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`;return b.includes(t)},f=(s,n,r)=>{const t=new Date;return t.setHours(0,0,0,0),new Date(s,n,r)<t},D=(s,n,r)=>{if(!c)return!1;const t=new Date(c);return t.getFullYear()===s&&t.getMonth()===n&&t.getDate()===r},k=(s,n,r)=>{if(f(s,n,r)||u(s,n,r))return;const t=`${s}-${String(n+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`;h(t)},S=()=>{c&&(p(c),o())},M=()=>{const s=v(a),n=y(a),r=[];for(let t=0;t<n;t++)r.push(e.jsx("div",{className:"h-10 md:h-12"},`empty-${t}`));for(let t=1;t<=s;t++){const m=u(a.getFullYear(),a.getMonth(),t),F=f(a.getFullYear(),a.getMonth(),t),C=D(a.getFullYear(),a.getMonth(),t);r.push(e.jsxs("div",{onClick:()=>k(a.getFullYear(),a.getMonth(),t),className:`
                        h-10 md:h-12 flex items-center justify-center rounded-lg
                        text-sm md:text-base font-medium relative
                        ${F?"bg-gray-100 text-gray-400 cursor-not-allowed":m?"bg-red-100 text-red-500 cursor-not-allowed":"bg-green-50 hover:bg-green-100 cursor-pointer"}
                        ${C?"ring-2 ring-pink-500":""}
                        transition-all duration-150
                    `,children:[e.jsx("span",{className:"relative z-10",children:t}),m&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-xs md:text-sm text-red-600 font-medium",children:"Booked"})})]},t))}return r};return i?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"border-b p-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Pilih Tanggal Pernikahan"}),e.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700",children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:j,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx($,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("h4",{className:"text-lg font-medium text-gray-800",children:[w[a.getMonth()]," ",a.getFullYear()]}),e.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(P,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(s=>e.jsx("div",{className:"h-8 flex items-center justify-center font-medium text-gray-600 text-sm",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:M()}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Sudah Berlalu"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Sudah Dipesan"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-50 rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Tersedia"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-pink-500 rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Dipilih"})]})]})]}),e.jsxs("div",{className:"border-t p-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm",children:"Batal"}),e.jsx("button",{onClick:S,disabled:!c||g,className:"px-4 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700 transition-colors text-sm disabled:bg-pink-300 disabled:cursor-not-allowed",children:g?"Memeriksa...":"Konfirmasi"})]})]})}):null};export{A as default};
